<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Friend Finder Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <style>
    .slidecontainer {
      width: 100%;
    }

    .slider {
      -webkit-appearance: none;
      width: 100%;
      height: 25px;
      background: #d3d3d3;
      outline: none;
      opacity: 0.7;
      -webkit-transition: .2s;
      transition: opacity .2s;
    }

    .slider:hover {
      opacity: 1;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 25px;
      height: 25px;
      background: #4CAF50;
      cursor: pointer;
    }

    .slider::-moz-range-thumb {
      width: 25px;
      height: 25px;
      background: #4CAF50;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <div class="container">
    <div class>
      <hr>
      <!-- <h2 class="text-center">Make your reservation</h2> -->
      <br>
      <div class="text-center">
        <!-- <a href="/tables">
          <button class="btn btn-lg btn-primary">
            <span class="fa fa-list-alt"></span> View Tables</button>
        </a> -->
        <!-- <a href="/">
          <button class="btn btn-lg btn-default">
            <span class="fa fa-home"></span>
          </button>
        </a> -->
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">
            Survey Questions
          </div>
          <div class="card-body">
            <form role="form">
              <div class="form-group">
                <label for="reserve-name">Name (Required)</label>
                <input type="text" class="form-control" id="survey-name">
              </div>
              <div class="form-group">
                <label for="reserve-phone">Link To Image (Required)</label>
                <input type="text" class="form-control" id="survey-image">
              </div>
              <div>
                <h3>Question 1</h3>
                <p>Do you like opinions?</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange1">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo1"></span></p>
              </div>
              <div>
                <h3>Question 2</h3>
                <p>How much sass can you take before your day is ruined?</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange2">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo2"></span></p>
              </div>
              <div>
                <h3>Question 3</h3>
                <p>How unsafe generally do you view rolling through stop-signs as being?</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange3">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo3"></span></p>
              </div>
              <div>
                <h3>Question 4</h3>
                <p>Politics are too difficult and convoluted to discuss often.</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange4">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo4"></span></p>
              </div>
              <div>
                <h3>Question 5</h3>
                <p>Animals have thoughts as well as emotions</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange5">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo5"></span></p>
              </div>
              <div>
                <h3>Question 6</h3>
                <p>Humor is the best way to break down barriers</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange6">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo6"></span></p>
              </div>
              <div>
                <h3>Question 7</h3>
                <p>It's classier for a photog to read if people don't want to be in their photos and not shoot</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange7">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo7"></span></p>
              </div>
              <div>
                <h3>Question 8</h3>
                <p>Art is of value to society</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange8">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo8"></span></p>
              </div>
              <div>
                <h3>Question 9</h3>
                <p>Fiction can be a reliable source of information</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange9">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo9"></span></p>
              </div>
              <div>
                <h3>Question 10</h3>
                <p>The internet is a most reliable source of information</p>
                <input type="range" min="1" max="5" value="3" class="slider" id="myRange10">
                <p>1: Strongly Disagree / 5: Strongly Agree <span id="demo10"></span></p>
              </div>
              <button type="submit" class="btn btn-primary submit">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>


    <footer class="footer">
      <div class="container">
        <p>
          <a href="/api/friends">API Friend List</a> |
          <a href="https://github.com/pedrichards/FriendFinder">GithubRepo</a>
      </div>
    </footer>

  </div>
  <script>


    var slider1 = document.getElementById("myRange1");
    var output1 = document.getElementById("demo1");
    output.innerHTML = slider1.value;

    slider1.oninput = function () {
      output1.innerHTML = this.value;
    }
    var slider2 = document.getElementById("myRange2");
    var output2 = document.getElementById("demo2");
    output2.innerHTML = slider2.value;

    slider2.oninput = function () {
      output2.innerHTML = this.value;
    }
    var slider3 = document.getElementById("myRange3");
    var output3 = document.getElementById("demo3");
    output3.innerHTML = slider3.value;

    slider3.oninput = function () {
      output3.innerHTML = this.value;
    }
    var slider4 = document.getElementById("myRange4");
    var output4 = document.getElementById("demo4");
    output4.innerHTML = slider4.value;

    slider4.oninput = function () {
      output4.innerHTML = this.value;
    }
    var slider5 = document.getElementById("myRange5");
    var output5 = document.getElementById("demo5");
    output5.innerHTML = slider5.value;

    slider5.oninput = function () {
      output5.innerHTML = this.value;
    }
    var slider6 = document.getElementById("myRange6");
    var output6 = document.getElementById("demo6");
    output6.innerHTML = slider6.value;

    slider6.oninput = function () {
      output6.innerHTML = this.value;
    }
    var slider7 = document.getElementById("myRange7");
    var output7 = document.getElementById("demo7");
    output7.innerHTML = slider7.value;

    slider7.oninput = function () {
      output7.innerHTML = this.value;
    }
    var slider8 = document.getElementById("myRange8");
    var output8 = document.getElementById("demo8");
    output8.innerHTML = slider8.value;

    slider8.oninput = function () {
      output8.innerHTML = this.value;
    }
    var slider9 = document.getElementById("myRange9");
    var output9 = document.getElementById("demo9");
    output9.innerHTML = slider9.value;

    slider9.oninput = function () {
      output9.innerHTML = this.value;
    }
    var slider10 = document.getElementById("myRange10");
    var output10 = document.getElementById("demo10");
    output10.innerHTML = slider10.value;

    slider10.oninput = function () {
      output10.innerHTML = this.value;
    }


    // < !--BELOW CODE IS CRITICAL.IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER-- >

    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file
    var currentFriendArray = [];
    function runFinder() {
      var currentArray = currentFriendArray;
      var friendsRelative = [];
      var differential;
      var totaldifferential;
      var difArray;
      for (i = 0; i < friendjects.length; i++) {
        var currentCompare = friendjects[i];
        for (i = 0; i < currentCompare.length; i++) {
          differential = math.abs(currentArray[i] - currentCompare[i]);
          totaldifferential = differential++;
        }
        totaldifferential.push(difArray);
      }
      var smallest = difArray[0];
      var refArray = [];

      for (var i = 0; i < difArray.length; i++) {
        if (difArray[i] < smallest) {
          i.push(bestcandidateArray);
        }

        var num = bestCandidateArray.length;
        var i;
        var i = new Random().nextInt(num);
        var fIndex = bestCandidateArray[i];
        return friendjects(fIndex);
      }
    }
    function makeFriend() {
      var x = slider1.value;
      x.push(currentFriendArray);
      var x = slider2.value;
      x.push(currentFriendArray);
      var x = slider3.value;
      x.push(currentFriendArray);
      var x = slider4.value;
      x.push(currentFriendArray);
      var x = slider5.value;
      x.push(currentFriendArray);
      var x = slider6.value;
      x.push(currentFriendArray);
      var x = slider7.value;
      x.push(currentFriendArray);
      var x = slider8.value;
      x.push(currentFriendArray);
      var x = slider9.value;
      x.push(currentFriendArray);
      var x = slider10.value;
      x.push(currentFriendArray);
    }

    $(".submit").on("click", function (event) {
      event.preventDefault();
      makeFriend();
      //MUST ADD CURRENT FRIEND TO THIS FUNCTION STILL
      runFinder();
      //CURRENT FRIEND THEN GETS PUSHED TO FRIENDJECTS ARRAY
      currentFriendArray.push(friendjects);
      // Here we grab the form elements
      // var newPal = {
      //   customerName: $("#reserve-name").val().trim(),
      //   phoneNumber: $("#reserve-phone").val().trim(),
      // };

      // console.log(newReservation);

      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.

      // $.post("/api/tables", newReservation,
      //   function (data) {

      //     // If a table is available... tell user they are booked.
      //     if (data) {
      //       alert("Yay! You are officially booked!");
      //     }

      //     // If a table is available... tell user they on the waiting list.
      //     else {
      //       alert("Sorry you are on the wait list");
      //     }

      //     // Clear the form when submitting
      //     $("#reserve-name").val("");
      //     $("#reserve-phone").val("");
      //     $("#reserve-email").val("");
      //     $("#reserve-unique-id").val("");

      //   });

    });

  </script>

</body>

</html>